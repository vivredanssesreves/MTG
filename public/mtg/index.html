<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>MTG Sets</title>
  <script>
    // Apply dark mode immediately to prevent flashing
    if (localStorage.getItem('darkMode') === 'enabled') {
      document.documentElement.classList.add('dark');
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <!-- <link rel="stylesheet" href="style.css" /> -->
  <link rel="stylesheet" href="../../src/frontEnd/shared/cssMain.css" />
</head>

<body>
  <div class="button-bar">
    <button id="back-btn" class="icon-moon mouse-button-theme"><i class="fas fa-chevron-left"></i></button>
    <div id="menu-burger"></div>
  </div>
  <header class="header">
    <h1>Available MTG Sets</h1>
  </header>
  <div id="sets"></div>

  <script type="module" src="../../src/frontEnd/mtg/sets-loadSets.js"></script>
  <script type="module">
    import { injectMenuBurger, initDarkMode, initBurgerMenu } from '../../src/frontEnd/shared/utilities.js';
    document.addEventListener('DOMContentLoaded', () => {
       injectMenuBurger('menu-burger', '../../src/frontEnd/shared/menu-burger.html');
      // S'assurer que le menu est bien initialisé après l'injection
      setTimeout(() => {
        initBurgerMenu();
        initDarkMode('dark-toggle');
        // Forcer l'affichage des boutons reset et export sur index
        const resetBddBtn = document.getElementById('reset-bdd');
        if (resetBddBtn) resetBddBtn.style.display = '';
        const exportBddBtn = document.getElementById('export-bdd');
        if (exportBddBtn) exportBddBtn.style.display = '';
        const importBddBtn = document.getElementById('import-bdd');
        if (importBddBtn) importBddBtn.style.display = '';
      }, 200);
    });
  </script>
</body>

</html>