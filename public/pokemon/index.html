<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Pokémon Collection</title>
    <script>
        // Apply dark mode immediately to prevent flashing
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.documentElement.classList.add('dark');
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../../src/frontEnd/shared/cssMain.css" />
</head>

<body>
    <div class="button-bar">
        <button id="back-btn" class="icon-moon mouse-button-theme"><i class="fas fa-chevron-left"></i></button>
        <div id="menu-burger"></div>
    </div>
    <header class="header">
        <h1>Pokemons</h1>
    </header>
    <div id="sets"></div>

    <!-- src/frontend/pokemon/pokemon-loadIndex.js -->
    <script type="module" src="../../src/frontEnd/pokemon/pokemon-loadIndex.js"></script>
    <script type="module">
        import { injectMenuBurger, initDarkMode, initBurgerMenu } from '../../src/frontEnd/shared/utilities.js';
        document.addEventListener('DOMContentLoaded', () => {
            injectMenuBurger('menu-burger', '../../src/frontEnd/shared/menu-burger.html');
            // S'assurer que le menu est bien initialisé après l'injection
            setTimeout(() => {
                initBurgerMenu();
                initDarkMode('dark-toggle');
            }, 200);
        });
    </script>
</body>

</html>