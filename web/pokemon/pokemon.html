<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Pokémon Cards</title>
    <script>
        // Apply dark mode immediately to prevent flashing
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.documentElement.classList.add('dark');
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../cssMain.css" />
</head>

<body id="body">

    <div class="button-bar">
        <button id="back-btn" class="icon-moon mouse-button-theme"><i class="fas fa-chevron-left"></i></button>
        <div id="menu-burger"></div>
    </div>

    <header class="header">
        <h1 id="set-title" class="set-title">Loading...</h1>
    </header>

    <main>
        <div id="cards-progress"></div>
        <div id="cards-container"></div>
    </main>

    <script type="module" src="../frontEnd/pokemon-loadCards.js"></script>
    <script type="module">
        import { injectMenuBurger, initDarkMode, initBurgerMenu } from '../../frontEnd/utilities.js';
        document.addEventListener('DOMContentLoaded', () => {
            injectMenuBurger('menu-burger', '../menu-burger.html');
            // Initialisation du menu burger et du dark mode après l'injection
            setTimeout(() => {
                initBurgerMenu();
                initDarkMode('dark-toggle');
            }, 200);
        });
    </script>
</body>

</html>